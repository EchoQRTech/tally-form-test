<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EchoQR Premium Feedback</title>

  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#0f5f3d',
            secondary: '#a8ffcb',
            accent: '#d4af37',
            background: '#f3fcf4',
          }
        }
      }
    }
  </script>

  <style>
    .fade-in {
      animation: fadeIn 1s ease-out forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body class="bg-[#f3fcf4] min-h-screen flex items-center justify-center p-6">

<div id="main-content" class="w-full max-w-lg space-y-8 fade-in">

  <!-- Loading Spinner -->
  <div id="loading-spinner" class="hidden flex justify-center items-center h-40">
    <div class="animate-spin rounded-full h-12 w-12 border-t-4 border-green-600"></div>
  </div>

  <!-- Feedback Form -->
  <div id="form-container" class="bg-white rounded-2xl shadow-2xl p-10 space-y-8">
    <h2 class="text-3xl font-bold text-center text-green-700">We Value Your Feedback</h2>

    <form id="feedback-form" class="space-y-8">

      <!-- Experience Rating -->
      <div class="space-y-2">
        <label class="block text-gray-700 text-lg font-semibold">How was your overall experience?</label>
        <div class="flex justify-between items-center">
          <button type="button" class="emoji-btn text-4xl transition hover:scale-110">üò°</button>
          <button type="button" class="emoji-btn text-4xl transition hover:scale-110">üòû</button>
          <button type="button" class="emoji-btn text-4xl transition hover:scale-110">üòê</button>
          <button type="button" class="emoji-btn text-4xl transition hover:scale-110">üòä</button>
          <button type="button" class="emoji-btn text-4xl transition hover:scale-110">üòç</button>
        </div>
        <div class="flex justify-between text-xs text-gray-400 px-2 mt-1">
          <span>Terrible</span>
          <span>Bad</span>
          <span>Okay</span>
          <span>Good</span>
          <span>Amazing</span>
        </div>
        <input type="hidden" name="experience" id="experience-rating" required>
      </div>

      <!-- Conditional Questions -->
      <div id="conditional-questions" class="space-y-6 hidden">

        <!-- Smile Moment -->
        <div>
          <label class="block text-gray-700 text-lg mb-2 font-semibold">What made you smile today?</label>
          <textarea name="smileMoment" rows="2" class="w-full p-4 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-400" placeholder="Tell us what made your day!"></textarea>
        </div>

        <!-- Item Ordered Dropdown -->
        <div>
          <label class="block text-gray-700 text-lg mb-2 font-semibold">What item did you order?</label>
          <select name="itemOrdered" required class="w-full p-4 border rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-green-400">
            <option value="" disabled selected>Select an item</option>
            <option value="Chicken Tenders">Chicken Tenders</option>
            <option value="Spicy Chicken Sandwich">Spicy Chicken Sandwich</option>
            <option value="Deluxe Burger">Deluxe Burger</option>
            <option value="Loaded Fries">Loaded Fries</option>
            <option value="Garden Salad">Garden Salad</option>
            <option value="Ice Cream Shake">Ice Cream Shake</option>
            <option value="Dirty Soda">Dirty Soda</option>
            <option value="Grilled Nuggets">Grilled Nuggets</option>
            <option value="Family Meal Combo">Family Meal Combo</option>
            <option value="Kids Meal">Kids Meal</option>
          </select>
        </div>

        <!-- Staff Member Dropdown -->
        <div>
          <label class="block text-gray-700 text-lg mb-2 font-semibold">Which crew member helped you?</label>
          <select name="staffName" required class="w-full p-4 border rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-green-400">
            <option value="" disabled selected>Select a staff member</option>
            <option value="Emma">Emma</option>
            <option value="Noah">Noah</option>
            <option value="Ava">Ava</option>
            <option value="Liam">Liam</option>
            <option value="Sophia">Sophia</option>
            <option value="Mason">Mason</option>
            <option value="Isabella">Isabella</option>
            <option value="James">James</option>
            <option value="Mia">Mia</option>
            <option value="Lucas">Lucas</option>
          </select>
        </div>

        <!-- Improvements -->
        <div>
          <label class="block text-gray-700 text-lg mb-2 font-semibold">What could we improve on?</label>
          <textarea name="improvements" rows="2" class="w-full p-4 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-400" placeholder="Help us get even better!"></textarea>
        </div>

        <!-- Manager Contact Section (only if bad review) -->
        <div id="manager-section" class="hidden space-y-6">
          <div>
            <label class="block text-gray-700 text-lg mb-2 font-semibold">Would you like a manager to reach out?</label>
            <select name="managerContact" class="w-full p-4 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-400 bg-white">
              <option value="No">No, just feedback</option>
              <option value="Yes">Yes, please contact me</option>
            </select>
          </div>
          <div>
            <label class="block text-gray-700 text-lg mb-2 font-semibold">If yes, your email or phone:</label>
            <input name="contactInfo" type="text" class="w-full p-4 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-400" placeholder="Your contact info">
          </div>
        </div>

        <!-- How Found Us -->
        <div>
          <label class="block text-gray-700 text-lg mb-2 font-semibold">How did you find us?</label>
          <select name="source" class="w-full p-4 border rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-green-400">
            <option value="Google">Google</option>
            <option value="Instagram">Instagram</option>
            <option value="Referral">Referral</option>
            <option value="Walk-In">Walk-In</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <input type="hidden" name="restaurantName" value="RestaurantNameHere">

        <div class="pt-6">
          <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-2xl text-xl transition duration-300">
            Submit Feedback
          </button>
        </div>

      </div>

    </form>
  </div>

  <!-- Thank You Pages -->
  <div id="good-thankyou" class="hidden bg-white p-10 rounded-2xl shadow-2xl space-y-6 text-center fade-in">
    <h2 class="text-3xl font-bold text-green-700">Thank You! üéâ</h2>
    <p class="text-lg text-gray-700">We're thrilled you had a great experience.</p>
    <p class="text-lg text-gray-700">üí¨ Join our Loyalty Program and earn rewards faster!</p>
    <a href="https://g.page/YOUR_GOOGLE_REVIEW_LINK" target="_blank" class="block mt-4 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-xl inline-block">
      Leave a Google Review
    </a>
    <div class="pt-6 text-gray-500 text-sm">
      Powered by <strong>EchoQR Tech</strong><br>
      Follow us @echoqr_tech on Instagram & TikTok
    </div>
  </div>

  <div id="bad-thankyou" class="hidden bg-white p-10 rounded-2xl shadow-2xl space-y-6 text-center fade-in">
    <h2 class="text-3xl font-bold text-red-600">Thank You for Your Feedback</h2>
    <p class="text-lg text-gray-700">We're sorry your experience wasn't perfect. Our management team will carefully review your feedback.</p>
    <div class="pt-6 text-gray-500 text-sm">
      Powered by <strong>EchoQR Tech</strong><br>
      Follow us @echoqr_tech on Instagram & TikTok
    </div>
  </div>

</div>

<script>
  const emojiButtons = document.querySelectorAll('.emoji-btn');
  const experienceInput = document.getElementById('experience-rating');
  const conditionalQuestions = document.getElementById('conditional-questions');
  const managerSection = document.getElementById('manager-section');
  const feedbackForm = document.getElementById('feedback-form');
  const formContainer = document.getElementById('form-container');
  const goodThankYou = document.getElementById('good-thankyou');
  const badThankYou = document.getElementById('bad-thankyou');
  const loadingSpinner = document.getElementById('loading-spinner');

  emojiButtons.forEach((button, index) => {
    button.addEventListener('click', () => {
      experienceInput.value = (index + 1).toString();
      emojiButtons.forEach(btn => btn.classList.remove('border-4', 'border-green-500', 'scale-125'));
      button.classList.add('border-4', 'border-green-500', 'scale-125');

      conditionalQuestions.classList.remove('hidden');

      if (index + 1 <= 3) {
        managerSection.classList.remove('hidden');
      } else {
        managerSection.classList.add('hidden');
      }
    });
  });

  feedbackForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const rating = parseInt(experienceInput.value);

    formContainer.classList.add('hidden');
    loadingSpinner.classList.remove('hidden');

    setTimeout(() => {
      loadingSpinner.classList.add('hidden');
      if (rating >= 4) {
        goodThankYou.classList.remove('hidden');
      } else {
        badThankYou.classList.remove('hidden');
      }
    }, 1200);
  });
</script>

</body>
</html>
